{% extends 'Admin/admin_main.html' %}
{% block content %}

<div class="container mt-4">
  <h2 class="text-center mb-3">Unavailable Date & Time</h2>

  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-info">{{ message }}</div>
    {% endfor %}
  {% endif %}

  <!-- DESKTOP/TABLET TABLE -->
  <div class="d-none d-md-block">
    <table class="table table-bordered table-striped text-center">
      <thead>
        <tr>
          <th>ID</th>
          <th>Date</th>
          <th>START TIME</th>
          <th>END TIME</th>
          <th>REASON</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for item in unavailables %}
        <tr>
          <td>{{ item.id }}</td>
          <td>{{ item.date }}</td>
          <td>{{ item.start_time }}</td>
          <td>{{ item.end_time }}</td>
          <td>{{ item.reason }}</td>
          <td>
            <a href="{% url 'update_unavailabledatetime' item.id %}" class="btn btn-sm btn-success">Update</a>
            <a href="{% url 'delete_unavailabledatetime' item.id %}" class="btn btn-sm btn-danger"
               onclick="return confirm('Are you sure you want to delete this?');">Delete</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <!-- MOBILE CARDS -->
  <div class="d-md-none">
    {% for item in unavailables %}
    <div class="card mb-3 shadow-sm text-center">
      <div class="card-body">
        <h5 class="card-title fw-bold">ID: {{ item.id }}</h5>
        <p><strong>Date:</strong> {{ item.date }}</p>
        <p><strong>Start Time:</strong> {{ item.start_time }}</p>
        <p><strong>End Time:</strong> {{ item.end_time }}</p>

        <p class="fw-bold mb-1">Reason:</p>
        <p class="text-muted small">{{ item.reason }}</p>

        <div class="d-flex gap-2 justify-content-center">
          <a href="{% url 'update_unavailabledatetime' item.id %}" class="btn btn-success btn-sm flex-fill">Update</a>
          <a href="{% url 'delete_unavailabledatetime' item.id %}" onclick="return confirm('Are you sure you want to delete this?');"
             class="btn btn-danger btn-sm flex-fill">Delete</a>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

{% endblock %}
